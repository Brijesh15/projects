{"ast":null,"code":"import _classCallCheck from\"/home/abhishek/Documents/demo_amrit/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/abhishek/Documents/demo_amrit/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/abhishek/Documents/demo_amrit/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/abhishek/Documents/demo_amrit/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/abhishek/Documents/demo_amrit/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import logo from\"./logo.svg\";import'./App.css';import{Navbar,Nav,Card,Button,Form,Row,Col}from'react-bootstrap';import axios from'axios';import FileDownload from'js-file-download';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.handleUploadCompanyChange=function(event){_this.setState({\"uploadCompany\":event.target.value});};_this.handleUploadFileChange=function(event){_this.setState({\"uploadFile\":event.target.files[0]});};_this.handleDownloadCompanyChange=function(event){_this.setState({\"downloadCompany\":event.target.value});};_this.handleSubmitUpload=function(event){event.preventDefault();var data=new FormData();data.append('file',_this.state.uploadFile);axios.post('http://192.168.5.179:8000/impExpCompanyQrcode/'+_this.state.uploadCompany,data).then(function(res){console.log(\"1\",res);alert(res.data.message);//that.setState({\"companyList\": res.data.items, \"downloadCompany\": res.data.items[0].name})\n});};_this.handleSubmitDownload=function(event){event.preventDefault();console.log(\"2\",_this.state.downloadCompany);axios.get('http://192.168.5.179:8000/impExpCompanyQrcode/'+_this.state.downloadCompany).then(function(res){console.log(\"1\",res);if(res.data.success){alert(res.data.message);}else if(res.data.success===false){alert(res.data.message);}else{FileDownload(res.data,'download.csv');}//that.setState({\"companyList\": res.data.items, \"downloadCompany\": res.data.items[0].name})\n});};_this.state={\"companyList\":[],\"uploadCompany\":\"\",\"uploadFile\":\"\",\"downloadCompany\":\"\"};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var that=this;axios.get('http://192.168.5.179:8000/companies').then(function(res){console.log(\"1\",res);that.setState({\"companyList\":res.data.items,\"uploadCompany\":res.data.items[0].name,\"downloadCompany\":res.data.items[0].name});});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"App\"},React.createElement(Navbar,{bg:\"dark\",variant:\"dark\"},React.createElement(Navbar.Brand,null,\"Azure Press\")),React.createElement(\"div\",null,React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(Card,{style:{width:'75%',margin:'auto'}},React.createElement(Card.Header,null,React.createElement(Card.Title,null,\"Upload\")),React.createElement(Card.Body,null,React.createElement(Form,{onSubmit:this.handleSubmitUpload},React.createElement(Row,null,React.createElement(Col,null,React.createElement(Row,null,React.createElement(Form.Group,{as:Col,controlId:\"downloadForm.companySelect\"},React.createElement(Form.Label,null,\"Select a Company:\"),React.createElement(Form.Control,{as:\"select\",value:this.state.uploadCompany,onChange:this.handleUploadCompanyChange},this.state.companyList.map(function(item){return React.createElement(\"option\",null,item.name);}))),React.createElement(Form.Group,{as:Col,controlId:\"downloadForm.Select\"},React.createElement(Form.Label,null,\"File to be uploaded:\"),React.createElement(Form.Control,{onChange:this.handleUploadFileChange,type:\"file\",placeholder:\"Choose file\",required:true})))),React.createElement(Col,null,React.createElement(\"br\",null),React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Upload\")))))),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(Card,{style:{width:'75%',margin:'auto'}},React.createElement(Card.Header,null,React.createElement(Card.Title,null,\"Download\")),React.createElement(Card.Body,null,React.createElement(Form,{onSubmit:this.handleSubmitDownload},React.createElement(Row,null,React.createElement(Form.Group,{as:Col,controlId:\"downloadForm.companySelect\"},React.createElement(Form.Label,null,\"Select a Company:\"),React.createElement(Form.Control,{as:\"select\",value:this.state.downloadCompany,onChange:this.handleDownloadCompanyChange},this.state.companyList.map(function(item){return React.createElement(\"option\",null,item.name);}))),React.createElement(Col,null,React.createElement(\"br\",null),React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Download\"))))))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/abhishek/Documents/demo_amrit/src/App.js"],"names":["React","Navbar","Nav","Card","Button","Form","Row","Col","axios","FileDownload","App","props","handleUploadCompanyChange","event","setState","target","value","handleUploadFileChange","files","handleDownloadCompanyChange","handleSubmitUpload","preventDefault","data","FormData","append","state","uploadFile","post","uploadCompany","then","res","console","log","alert","message","handleSubmitDownload","downloadCompany","get","success","that","items","name","width","margin","companyList","map","item","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { Navbar, Nav, Card, Button, Form, Row, Col } from 'react-bootstrap'\nimport axios from 'axios'\nimport  FileDownload  from 'js-file-download';\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props)\n    this.state = {\n      \"companyList\" : [],\n      \"uploadCompany\": \"\",\n      \"uploadFile\": \"\",\n      \"downloadCompany\" : \"\"\n    }\n  }\n\n  componentDidMount() {\n    let that = this;\n    axios.get('http://192.168.5.179:8000/companies')\n    .then(function(res) {\n      console.log(\"1\", res)\n      that.setState({\"companyList\": res.data.items, \"uploadCompany\": res.data.items[0].name, \"downloadCompany\": res.data.items[0].name})\n    })\n  }\n\n  handleUploadCompanyChange = (event) => {\n    this.setState({\"uploadCompany\": event.target.value})\n  }\n\n  handleUploadFileChange = (event) => {\n    this.setState({\"uploadFile\": event.target.files[0]})\n  }\n\n  handleDownloadCompanyChange = (event) => {\n    this.setState({\"downloadCompany\": event.target.value})\n  }\n\n  handleSubmitUpload = (event) => {\n    event.preventDefault();\n      const data = new FormData()\n      data.append('file', this.state.uploadFile)\n      axios.post('http://192.168.5.179:8000/impExpCompanyQrcode/'+this.state.uploadCompany,data)\n      .then(function(res) {\n        console.log(\"1\", res)\n        alert(res.data.message)\n        //that.setState({\"companyList\": res.data.items, \"downloadCompany\": res.data.items[0].name})\n      })\n\n  }\n\n  handleSubmitDownload = (event) => {\n    event.preventDefault();\n    console.log(\"2\", this.state.downloadCompany)\n    axios.get('http://192.168.5.179:8000/impExpCompanyQrcode/'+this.state.downloadCompany)\n    .then(function(res) {\n      console.log(\"1\", res)\n      if(res.data.success){\n        alert(res.data.message)\n      } else if(res.data.success === false){\n        alert(res.data.message)\n      }else {\n         FileDownload(res.data, 'download.csv');\n      }\n\n      //that.setState({\"companyList\": res.data.items, \"downloadCompany\": res.data.items[0].name})\n    })\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar bg=\"dark\" variant=\"dark\">\n            <Navbar.Brand>Azure Press</Navbar.Brand>\n        </Navbar>\n\n        <div>\n          <br/>\n          <br/>\n          <Card style={{ width: '75%', margin: 'auto' }}>\n            <Card.Header>\n              <Card.Title>Upload</Card.Title>\n            </Card.Header>\n            <Card.Body>\n              <Form onSubmit={this.handleSubmitUpload}>\n                <Row>\n                  <Col>\n                  <Row>\n                  <Form.Group as={Col} controlId=\"downloadForm.companySelect\">\n                    <Form.Label>Select a Company:</Form.Label>\n                    <Form.Control as=\"select\" value={this.state.uploadCompany} onChange={this.handleUploadCompanyChange}>\n                    {\n                      this.state.companyList.map((item) => <option>{item.name}</option>)\n                    }\n                    </Form.Control>\n                  </Form.Group>\n                  <Form.Group as={Col} controlId=\"downloadForm.Select\">\n                    <Form.Label>File to be uploaded:</Form.Label>\n                    <Form.Control  onChange={this.handleUploadFileChange} type=\"file\" placeholder=\"Choose file\" required />\n                  </Form.Group>\n                  </Row>\n                  </Col>\n                  <Col>\n                  <br/>\n                  <Button variant=\"primary\" type=\"submit\">Upload</Button>\n                  </Col>\n                </Row>\n              </Form>\n            </Card.Body>\n          </Card>\n          <br/>\n          <br/>\n          <Card style={{ width: '75%', margin: 'auto' }}>\n            <Card.Header>\n              <Card.Title>Download</Card.Title>\n            </Card.Header>\n            <Card.Body>\n                <Form onSubmit={this.handleSubmitDownload}>\n                  <Row>\n                    <Form.Group as={Col} controlId=\"downloadForm.companySelect\">\n                      <Form.Label>Select a Company:</Form.Label>\n                      <Form.Control as=\"select\" value={this.state.downloadCompany} onChange={this.handleDownloadCompanyChange}>\n                      {\n                        this.state.companyList.map((item) => <option>{item.name}</option>)\n                      }\n                      </Form.Control>\n                    </Form.Group>\n                    <Col>\n                    <br/>\n                    <Button variant=\"primary\" type=\"submit\">Download</Button>\n                    </Col>\n                  </Row>\n                </Form>\n\n            </Card.Body>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}