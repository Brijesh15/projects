(this.webpackJsonpdemo_amrit=this.webpackJsonpdemo_amrit||[]).push([[0],{44:function(e,a,t){e.exports=t(83)},49:function(e,a,t){},50:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},51:function(e,a,t){},83:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(9),r=t.n(o),i=(t(49),t(32)),c=t(33),m=t(43),d=t(34),u=t(11),s=t(41),p=(t(50),t(51),t(87)),h=t(89),y=t(88),E=t(86),g=t(39),f=t(90),C=t(15),v=t.n(C),b=t(35),w=t.n(b),S=t(36),F=t.n(S),D=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).getCompanyId=function(e){return t.state.companyList.filter((function(a){return a.name===e}))[0].id},t.handleUploadCompanyChange=function(e){t.setState({uploadCompany:e.target.value})},t.handleUploadFileChange=function(e){t.setState({uploadFile:e.target.files})},t.handleDownloadCompanyChange=function(e){t.setState({downloadCompany:e.target.value})},t.handleSubmitUpload=function(e){e.preventDefault();var a=Object(u.a)(t);t.setState({loading:!0});for(var n=new FormData,l=0,o=Object.keys(t.state.uploadFile);l<o.length;l++){var r=o[l];n.append("file",t.state.uploadFile[r])}v.a.post("/impExpCompanyQrcode/"+t.getCompanyId(t.state.uploadCompany),n).then((function(e){console.log("1",e),a.fileInput.value="",a.setState({uploadFile:""}),a.setState({loading:!1}),alert(e.data.message)})).catch((function(e){a.fileInput.value="",a.setState({uploadFile:""}),a.setState({loading:!1}),alert(e)}))},t.handleSubmitDownload=function(e){e.preventDefault();var a=Object(u.a)(t);console.log("2",t.state.downloadCompany),v.a.get("/impExpCompanyQrcode/"+t.getCompanyId(t.state.downloadCompany)).then((function(e){console.log("1",e),e.data.success?alert(e.data.message):!1===e.data.success?alert(e.data.message):w()(e.data,a.state.downloadCompany+".xlsx")}))},t.state={companyList:[],uploadCompany:"",uploadFile:"",downloadCompany:"",loading:!1},t}return Object(s.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/companies").then((function(a){console.log("1",a),e.setState({companyList:a.data.items,uploadCompany:a.data.items[0].name,downloadCompany:a.data.items[0].name})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(F.a,{active:this.state.loading,spinner:!0,text:"Uploading..."},l.a.createElement("div",{style:{height:"100vh"}},l.a.createElement(p.a,{bg:"dark",variant:"dark"},l.a.createElement(p.a.Brand,null,"Azure Press")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(h.a,{style:{width:"75%",margin:"auto"}},l.a.createElement(h.a.Header,null,l.a.createElement(h.a.Title,null,"Upload")),l.a.createElement(h.a.Body,null,l.a.createElement(y.a,{onSubmit:this.handleSubmitUpload},l.a.createElement(E.a,null,l.a.createElement(g.a,null,l.a.createElement(E.a,null,l.a.createElement(y.a.Group,{as:g.a,controlId:"downloadForm.companySelect"},l.a.createElement(y.a.Label,null,"Select a Company:"),l.a.createElement(y.a.Control,{as:"select",value:this.state.uploadCompany,onChange:this.handleUploadCompanyChange},this.state.companyList.map((function(e){return l.a.createElement("option",null,e.name)})))),l.a.createElement(y.a.Group,{as:g.a,controlId:"downloadForm.Select"},l.a.createElement(y.a.Label,null,"File to be uploaded:"),l.a.createElement(y.a.Control,{onChange:this.handleUploadFileChange,type:"file",placeholder:"Choose file",ref:function(a){return e.fileInput=a},required:!0,multiple:!0})))),l.a.createElement(g.a,null,l.a.createElement("br",null),l.a.createElement(f.a,{variant:"primary",type:"submit"},"Upload")))))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(h.a,{style:{width:"75%",margin:"auto"}},l.a.createElement(h.a.Header,null,l.a.createElement(h.a.Title,null,"Download")),l.a.createElement(h.a.Body,null,l.a.createElement(y.a,{onSubmit:this.handleSubmitDownload},l.a.createElement(E.a,null,l.a.createElement(y.a.Group,{as:g.a,controlId:"downloadForm.companySelect"},l.a.createElement(y.a.Label,null,"Select a Company:"),l.a.createElement(y.a.Control,{as:"select",value:this.state.downloadCompany,onChange:this.handleDownloadCompanyChange},this.state.companyList.map((function(e){return l.a.createElement("option",null,e.name)})))),l.a.createElement(g.a,null,l.a.createElement("br",null),l.a.createElement(f.a,{variant:"primary",type:"submit"},"Download")))))))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.86ac52ae.chunk.js.map