(this.webpackJsonpthin_station_demo=this.webpackJsonpthin_station_demo||[]).push([[0],{54:function(e,t,a){e.exports=a(84)},59:function(e,t,a){},60:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),c=(a(59),a(12)),s=a(13),i=a(16),h=a(14),m=a(17),u=(a(60),a(51)),d=a(18),p=a(89),E=a(90),g=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{bg:"dark",variant:"dark"},r.a.createElement(p.a.Brand,null,"Thin Station"),r.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(E.a,{className:"mr-auto"},r.a.createElement(E.a.Link,{href:"/home"},"Home"),r.a.createElement(E.a.Link,{href:"/settings"},"Settings"))))}}]),t}(r.a.Component),b=a(91),C=a(86),v=a(87),f=a(50),S=a.n(f),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(h.a)(t).call(this,e))).handleConnect=function(e){var t=a.state.channelArr[e.target.id],n={msgtype:"fork",msg:{type:"<freerdp/vnc>",username:t.username,password:t.password,ip:t.ip,port:t.port}};console.log(n),S.a.post("http://localhost:12913/compositor/layout",n).then((function(e){this.setState({connectedChannel:"ed to "+t.name})})).catch((function(e){alert(e)}))},a.state={test:[],connectedChannel:"",channelArr:JSON.parse(localStorage.getItem("channelArr"))?JSON.parse(localStorage.getItem("channelArr")):[]},console.log("ab",a.props),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.value!==this.props.channelArr&&this.setState({channelArr:this.props.channelArr})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("h1",{id:"device_name"},r.a.createElement("span",{id:"device_name_string"},"Connect",this.state.connectedChannel)),r.a.createElement(b.a,null,r.a.createElement("br",null),r.a.createElement(C.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("tbody",null,this.state.channelArr.map((function(t,a){return r.a.createElement("tr",{key:t.name},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.ip),r.a.createElement("td",null,r.a.createElement(v.a,{id:a,onClick:e.handleConnect},"Connect")))}))))))}}]),t}(r.a.Component),w=a(88),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(h.a)(t).call(this,e))).handleNameChange=function(e){a.setState({name:e.target.value})},a.handleIpChange=function(e){a.setState({ip:e.target.value})},a.handlePortChange=function(e){a.setState({port:e.target.value})},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){a.props.addChannel({name:a.state.name,ip:a.state.ip,port:a.state.port,username:a.state.username,password:a.state.password}),alert("Success"),a.setState({name:"",ip:"",port:"",username:"",password:""}),e.preventDefault()},a.state={name:"",ip:"",port:"",username:"",password:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{style:{width:"50%",margin:"auto"}},r.a.createElement(b.a.Body,null,r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(w.a.Group,{controlId:"channelName"},r.a.createElement(w.a.Label,null,"Channel Name"),"\xa0:\xa0",r.a.createElement(w.a.Control,{required:!0,type:"text",value:this.state.name,onChange:this.handleNameChange})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(w.a.Group,{controlId:"channelIp"},r.a.createElement(w.a.Label,null,"Channel IP"),"\xa0:\xa0",r.a.createElement(w.a.Control,{required:!0,pattern:"^([0-9]{1,3}\\.){3}[0-9]{1,3}$",value:this.state.ip,onChange:this.handleIpChange})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(w.a.Group,{controlId:"channelPort"},r.a.createElement(w.a.Label,null,"Channel port"),"\xa0:\xa0",r.a.createElement(w.a.Control,{required:!0,type:"number",value:this.state.port,onChange:this.handlePortChange})),r.a.createElement("br",null),r.a.createElement(w.a.Group,{controlId:"channelUsername"},r.a.createElement(w.a.Label,null,"Username"),"\xa0:\xa0",r.a.createElement(w.a.Control,{required:!0,type:"text",value:this.state.username,onChange:this.handleUsernameChange})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(w.a.Group,{controlId:"channelPassword"},r.a.createElement(w.a.Label,null,"Password"),"\xa0:\xa0",r.a.createElement(w.a.Control,{required:!0,type:"password",value:this.state.password,onChange:this.handlePasswordChange})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(v.a,{variant:"primary",type:"submit"},"Submit")))))}}]),t}(r.a.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(h.a)(t).call(this,e))).addChannel=function(e){console.log("test",e);var t=JSON.parse(localStorage.getItem("channelArr"))?JSON.parse(localStorage.getItem("channelArr")):[];t.push(e),console.log("tempChannel",t),a.setState({channelArr:t}),localStorage.setItem("channelArr",JSON.stringify(t))},a.state={channelArr:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/home"},r.a.createElement(O,{channelArr:this.state.channelArr})),r.a.createElement(d.a,{path:"/settings"},r.a.createElement(y,{addChannel:this.addChannel})))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.0a657bec.chunk.js.map