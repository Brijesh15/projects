(this.webpackJsonpthin_station_demo=this.webpackJsonpthin_station_demo||[]).push([[0],{56:function(e,t,a){e.exports=a(86)},61:function(e,t,a){},62:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),o=(a(61),a(12)),s=a(13),i=a(17),d=a(14),u=a(16),m=(a(62),a(52)),h=a(18),p=a(55),g=a(22),E=a(91),b=a(92),C=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{bg:"dark",variant:"dark"},r.a.createElement(E.a.Brand,null,"Thin Station"),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(b.a.Link,{href:"/home"},"Home"),r.a.createElement(b.a.Link,{href:"/settings"},"Settings"))))}}]),t}(r.a.Component),v=a(93),f=a(88),y=a(89),I=a(51),S=a.n(I),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleConnect=function(e){var t=a.state.channelArr[e.target.id],n=parseInt(e.target.id),r="connect";a.state.connectedId.includes(n)&&(r="disconnect");var l={msgtype:r,msg:{type:t.type,username:t.username,password:t.password,ip:t.ip,port:t.port}};console.log(l);var c=Object(g.a)(a);S.a.post("http://localhost:12913/compositor/layout",l).then((function(e){if("TRUE"===e.data)if("connect"===r)c.setState({connectedChannel:"ed to "+t.name,connectedId:[].concat(Object(p.a)(c.state.connectedId),[n])},(function(){localStorage.setItem("connectedId",JSON.stringify(c.state.connectedId))}));else{var a=c.state.connectedId.indexOf(n),l=c.state.connectedId;l.splice(a,1),c.setState({connectedChannel:"",connectedId:l},(function(){localStorage.setItem("connectedId",JSON.stringify(c.state.connectedId))}))}})).catch((function(e){alert(e)}))},a.state={test:[],connectedChannel:"",connectedId:JSON.parse(localStorage.getItem("connectedId"))?JSON.parse(localStorage.getItem("connectedId")):[],channelArr:JSON.parse(localStorage.getItem("channelArr"))?JSON.parse(localStorage.getItem("channelArr")):[]},console.log("ab",a.props),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("h1",{id:"device_name"},r.a.createElement("span",{id:"device_name_string"},"Connect")),r.a.createElement(v.a,null,r.a.createElement("br",null),r.a.createElement(f.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("tbody",null,this.state.channelArr.map((function(t,a){return r.a.createElement("tr",{key:t.name},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.ip),r.a.createElement("td",null,r.a.createElement(y.a,{id:a,onClick:e.handleConnect},e.state.connectedId.includes(a)?"Disconnect":"Connect")))}))))))}}]),t}(r.a.Component),j=a(90),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleNameChange=function(e){a.setState({name:e.target.value})},a.handleIpChange=function(e){a.setState({ip:e.target.value})},a.handlePortChange=function(e){a.setState({port:e.target.value})},a.handleTypeChange=function(e){a.setState({type:e.target.value})},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){a.props.addChannel({name:a.state.name,ip:a.state.ip,port:a.state.port,type:a.state.type,username:a.state.username,password:a.state.password}),alert("Success"),a.setState({name:"",ip:"",port:"",type:"",username:"",password:""}),e.preventDefault()},a.state={name:"",ip:"",port:"",type:"",username:"",password:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"50%",margin:"auto"}},r.a.createElement(v.a.Body,null,r.a.createElement(j.a,{onSubmit:this.handleSubmit},r.a.createElement(j.a.Group,{controlId:"channelName"},r.a.createElement(j.a.Label,null,"Channel Name"),"\xa0:\xa0",r.a.createElement(j.a.Control,{required:!0,type:"text",value:this.state.name,onChange:this.handleNameChange})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(j.a.Group,{controlId:"channelIp"},r.a.createElement(j.a.Label,null,"Channel IP"),"\xa0:\xa0",r.a.createElement(j.a.Control,{required:!0,pattern:"^([0-9]{1,3}\\.){3}[0-9]{1,3}$",value:this.state.ip,onChange:this.handleIpChange})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(j.a.Group,{controlId:"channelPort"},r.a.createElement(j.a.Label,null,"Channel port"),"\xa0:\xa0",r.a.createElement(j.a.Control,{required:!0,type:"number",value:this.state.port,onChange:this.handlePortChange})),r.a.createElement("br",null),r.a.createElement(j.a.Group,{controlId:"channelType"},r.a.createElement(j.a.Label,null,"Type"),"\xa0:\xa0",r.a.createElement(j.a.Control,{required:!0,type:"text",value:this.state.type,onChange:this.handleTypeChange})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(j.a.Group,{controlId:"channelUsername"},r.a.createElement(j.a.Label,null,"Username"),"\xa0:\xa0",r.a.createElement(j.a.Control,{required:!0,type:"text",value:this.state.username,onChange:this.handleUsernameChange})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(j.a.Group,{controlId:"channelPassword"},r.a.createElement(j.a.Label,null,"Password"),"\xa0:\xa0",r.a.createElement(j.a.Control,{required:!0,type:"password",value:this.state.password,onChange:this.handlePasswordChange})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(y.a,{variant:"primary",type:"submit"},"Submit")))))}}]),t}(r.a.Component),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).addChannel=function(e){console.log("test",e);var t=JSON.parse(localStorage.getItem("channelArr"))?JSON.parse(localStorage.getItem("channelArr")):[];t.push(e),console.log("tempChannel",t),a.setState({channelArr:t}),localStorage.setItem("channelArr",JSON.stringify(t))},a.state={channelArr:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/home"},r.a.createElement(O,{channelArr:this.state.channelArr})),r.a.createElement(h.a,{path:"/settings"},r.a.createElement(w,{addChannel:this.addChannel})))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[56,1,2]]]);
//# sourceMappingURL=main.19ba4e50.chunk.js.map